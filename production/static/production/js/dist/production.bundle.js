(()=>{"use strict";var e,t,r,o,a={996:(e,t,r)=>{r.d(t,{d:()=>o});const o={country:"Country",producer:"Producer",materialType:"MaterialType",colorScheme:"ColorScheme",color:"Color",detailName:"DetailName",detailInGoods:"DetailInGoods",mainMaterial:"MainMaterial",addMaterial:"AddMaterial",masterBatch:"MasterBatch",recipe:"Recipe",goods:"Goods",imm:"IMM",productRequest:"ProductionRequest",productReport:"ProductionReport",requestStartStop:"ProductionRequestStartStop",productionForRequest:"ProductionForRequest",qualityForRequest:"QualityForRequest",defects:"Defects",defectEvent:"DefectEvent",qualityReport:"QualityReport",qualityReportDefect:"QualityReportDefects",detail:"DetailInGoods",material_type:"MaterialType",main_material_type:"MaterialType",color_scheme:"ColorScheme",detail_in_goods:"DetailInGoods",detail_name:"DetailName",main_material:"MainMaterial",add_material:"AddMaterial",masterbatch:"MasterBatch",main_master:"MasterBatch",add_master:"MasterBatch",product_request:"ProductionRequest",production_request:"ProductionRequest",defect_event:"DefectEvent",production_for_request:"ProductionForRequest",production:"ProductionReport",quality_report:"QualityReport",defect:"Defects"}},873:(e,t,r)=>{function o(e){e.closest(".dict-block__search").querySelector(".form-input").value=""}r.d(t,{A:()=>o})},766:(e,t,r)=>{function o(e){const t=e.closest(".login"),r=t.querySelectorAll("input"),o=t.querySelectorAll("textarea");[...r].forEach((e=>{e.value=null})),[...o].forEach((e=>{e.textContent=""})),t.style.display="none"}r.d(t,{M:()=>o})},586:(e,t,r)=>{function o(e,t){e.contains(t.target)&&e.querySelector("ul").classList.add("visible")}r.d(t,{n:()=>o})},207:(e,t,r)=>{r.d(t,{S:()=>a});var o=r(170);function a(e,t){let r;t.forEach((t=>{r=document.createElement("li"),r.onclick=async function(e){e.stopPropagation(),await(0,o.Y)(e.target)},r.dataset.value=Object.keys(t)[0],r.textContent=Object.values(t)[0],e.appendChild(r)}))}},170:(e,t,r)=>{r.d(t,{Y:()=>c});var o=r(207),a=r(996),n=r(816);async function c(e){const t=e.closest(".dropdown"),r=t.closest("form"),c=t.querySelector(".dropdown__hidden").name,l=r.querySelector(`[data-filter="${c}"]`);if(t.querySelector(".dropdown__input").value=e.textContent.trim().replace(/\s+/g," "),t.querySelector(".dropdown__input").dataset.value=e.textContent.trim().replace(/\s+/g," "),t.querySelector(".dropdown__hidden").value=e.dataset.value,e.parentElement.classList.remove("visible"),l){const t=l.closest(".report_dropdown").querySelector("ul");t.innerHTML="",l.value="";const r=l.name;t.closest(".report_dropdown").querySelector(".dropdown__input").value="",t.closest(".report_dropdown").querySelector(".dropdown__input").dataset.value="";const u=`/production/dictionary_json_filter/${a.d[r]}/${a.d[c]}/${Number.parseInt(e.dataset.value)}`,d=await(0,n.K)(u),i=JSON.parse(d);(0,o.S)(t,i)}}},816:(e,t,r)=>{function o(e){return fetch(e).then((e=>e.json()))}r.d(t,{K:()=>o})},800:(e,t,r)=>{function o(e){const t=e.querySelector(".form-input").value;let r;return r=""===t?"default":t.replaceAll(/  +/g," ").replaceAll(" ","_"),r}r.d(t,{$:()=>o})},273:(e,t,r)=>{function o(e){e.style.display="block"}r.d(t,{h:()=>o})},32:(e,t,r)=>{function o(e,t,r){const o=e.querySelector(".hex");o&&(o.style.backgroundColor=t.hex);for(const o of Object.keys(t)){let a="."+r+o,n=e.querySelector(a);n&&("number"==typeof t[o]?n.textContent=t[o].toString().replace(/\B(?=(\d{3})+(?!\d))/g," "):n.textContent=t[o])}}r.d(t,{d:()=>o})},324:(e,t,r)=>{r.a(e,(async(e,t)=>{try{var o=r(32),a=r(766),n=r(273),c=r(873),l=r(800),u=r(586),d=r(816),i=r(170);const s=document.querySelector(".production-list").closest("section").querySelector(".dict-block__content"),p=document.querySelector("#technical-data").querySelector(".production-list"),y=document.getElementById("qualityModal"),_=y.querySelectorAll("li"),q=y.querySelector(".btn-close"),m=y.querySelector("#quantity_approved"),v=y.querySelector("#quantity_checked"),f=y.querySelector("#quantity_approved_defect"),S=document.getElementById("unclosed"),h=document.querySelector(".search_submit"),b=document.querySelector(".search_clear"),x=document.querySelector(".dict-block__search");function w(e){const t=e.closest(".dict-block__row");y.querySelector('[name = "production"]').value=t.dataset.id,y.querySelector("#detail").value=t.querySelector(".req__detail").textContent,y.querySelector("#color").value=t.querySelector(".req__color").textContent,y.querySelector("#imm").value=t.querySelector(".req__imm").textContent;const r=Number.parseInt(t.querySelector(".req__quantity").textContent.replace(" ","")),o=Number.parseInt(t.querySelector(".req__quantity_checked").textContent.replace(" ",""));y.querySelector("#to_check").value=r-o,y.querySelector("#quantity_checked").max=r-o,y.querySelector("#quantity_approved").max=r-o,y.querySelector("#user").value=t.querySelector(".req__produce_user").textContent,y.querySelector("#date").value=t.querySelector(".req__production_date").textContent}async function k(e,t,r,a){const c=await(0,d.K)(`/production/production_list/${e}/${t}/${r}/${a}`),l=JSON.parse(c);let u;if(l.forEach((e=>{u=p.cloneNode(!0),async function(e,t,r){(0,o.d)(e,t,"req__");const a=Number.parseInt(e.querySelector(".req__quantity").textContent.replace(" ","")),c=Number.parseInt(e.querySelector(".req__quantity_checked").textContent.replace(" ","")),l=e.querySelector(".btn");a===c?(l.disabled=!0,l.classList.add("form-input__inactive")):l.addEventListener("click",(()=>{w(l),(0,n.h)(y)})),e.dataset.id=t.production_id}(u,e),s.appendChild(u)})),l.length>=20){const t=s.lastElementChild;t.dataset.last=e+20,t.addEventListener("mouseover",(async e=>{const o=parseInt(t.dataset.last);delete t.dataset.last,await k(o,"default",r,a)}),{once:!0})}}await k(0,"default",1,"default"),h.addEventListener("click",(async e=>{const t=(0,l.$)(x),r=!0===S.checked?1:0;s.innerHTML="",await k(0,"default",r,t)})),b.addEventListener("click",(e=>{(0,c.A)(e.target)})),S.addEventListener("change",(async e=>{s.innerHTML="";const t=!0===S.checked?1:0;(0,c.A)(e.target),await k(0,"default",t,"default")})),y.querySelector(".dropdown").addEventListener("click",(e=>{(0,u.n)(y.querySelector(".dropdown"),e)})),v.addEventListener("change",(()=>{Number.parseInt(v.value)>Number.parseInt(v.max)&&(v.value=v.max),m.max=v.value})),m.addEventListener("change",(()=>{Number.parseInt(m.value)>Number.parseInt(m.max)&&(m.value=m.max)})),f.addEventListener("change",(()=>{Number.parseInt(f.value)>Number.parseInt(m.value)&&(f.value=m.value)})),q.addEventListener("click",(()=>{(0,a.M)(q)})),_.forEach((e=>{e.addEventListener("click",(async t=>{t.stopPropagation(),await(0,i.Y)(e)}))})),t()}catch(E){t(E)}}),1)}},n={};function c(e){var t=n[e];if(void 0!==t)return t.exports;var r=n[e]={exports:{}};return a[e](r,r.exports,c),r.exports}e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",r="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",o=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},c.a=(a,n,c)=>{var l;c&&((l=[]).d=-1);var u,d,i,s=new Set,p=a.exports,y=new Promise(((e,t)=>{i=t,d=e}));y[t]=p,y[e]=e=>(l&&e(l),s.forEach(e),y.catch((e=>{}))),a.exports=y,n((a=>{var n;u=(a=>a.map((a=>{if(null!==a&&"object"==typeof a){if(a[e])return a;if(a.then){var n=[];n.d=0,a.then((e=>{c[t]=e,o(n)}),(e=>{c[r]=e,o(n)}));var c={};return c[e]=e=>e(n),c}}var l={};return l[e]=e=>{},l[t]=a,l})))(a);var c=()=>u.map((e=>{if(e[r])throw e[r];return e[t]})),d=new Promise((t=>{(n=()=>t(c)).r=0;var r=e=>e!==l&&!s.has(e)&&(s.add(e),e&&!e.d&&(n.r++,e.push(n)));u.map((t=>t[e](r)))}));return n.r?d:c()}),(e=>(e?i(y[r]=e):d(p),o(l)))),l&&l.d<0&&(l.d=0)},c.d=(e,t)=>{for(var r in t)c.o(t,r)&&!c.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c(324)})();